(function(){"use strict";var e={8441:function(e,l,t){var n=t(5130),a=t(6768);const o={class:"content"};function r(e,l,t,n,r,s){const u=(0,a.g2)("Navbar"),i=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(u),(0,a.Lk)("div",o,[(0,a.bF)(i)])],64)}var s=t(4232),u=t.p+"img/ninja.b28c4fe4.png";const i={class:"navbar"},c={class:"links"},d={key:0},p={key:1};function v(e,l,t,n,o,r){const v=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("nav",null,[l[7]||(l[7]=(0,a.Lk)("img",{src:u,alt:"website logo"},null,-1)),(0,a.Lk)("h1",null,[(0,a.bF)(v,{to:{name:"Home"}},{default:(0,a.k6)((()=>l[1]||(l[1]=[(0,a.eW)("Music")]))),_:1})]),(0,a.Lk)("div",c,[n.user?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(v,{to:{name:"CreatePlaylist"},class:"btn"},{default:(0,a.k6)((()=>l[2]||(l[2]=[(0,a.eW)("Create Playlist")]))),_:1}),(0,a.bF)(v,{to:{name:"UserPlaylists"},class:"btn"},{default:(0,a.k6)((()=>l[3]||(l[3]=[(0,a.eW)("My Playlists")]))),_:1}),(0,a.Lk)("span",null,[l[4]||(l[4]=(0,a.eW)("Hi There, ")),(0,a.Lk)("strong",null,(0,s.v_)(n.user.displayName),1)]),(0,a.Lk)("button",{onClick:l[0]||(l[0]=(...e)=>n.handleLogout&&n.handleLogout(...e))},"Logout")])):((0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(v,{to:{name:"Login"},class:"btn"},{default:(0,a.k6)((()=>l[5]||(l[5]=[(0,a.eW)("Login")]))),_:1}),(0,a.bF)(v,{to:{name:"Signup"},class:"btn"},{default:(0,a.k6)((()=>l[6]||(l[6]=[(0,a.eW)("Sign Up")]))),_:1})]))])])])}t(4114);var g=t(144),m=t(4370),y=t(6400),f=t(7617);const h={apiKey:"AIzaSyDZ6Hcyh0Mm-ZXuhnKtPgwjdnV_bKAIX-4",authDomain:"muso-ninjas-d9f8e.firebaseapp.com",projectId:"muso-ninjas-d9f8e",storageBucket:"muso-ninjas-d9f8e.appspot.com",messagingSenderId:"946007023601",appId:"1:946007023601:web:3c125346910bc666b96e50"},b=(0,y.Wp)(h),k=(0,m.xI)(b),L=(0,f.aU)(b),C=(0,f.O5)(),w=(0,g.KR)(null),E=async()=>{w.value=null;try{await(0,m.CI)(k)}catch(e){console.error(e.message),w.value=e.message}},P=()=>({error:w,logout:E});var U=P;const A=(0,m.xI)(),S=(0,g.KR)(A.currentUser);(0,m.hg)(A,(e=>{console.log("User state change. Current user is:",e),S.value=e}));const _=()=>({user:S});var I=_,X=t(1387),K={name:"Navbar",setup(){const{user:e}=I(),{logout:l}=U(),t=(0,X.rd)(),n=async()=>{await l(),console.log("Logged out"),t.push({name:"Login"})};return{handleLogout:n,user:e}}},R=t(1241);const j=(0,R.A)(K,[["render",v],["__scopeId","data-v-55f71cfa"]]);var F=j,N={components:{Navbar:F}};const O=(0,R.A)(N,[["render",r]]);var D=O;const Q={class:"home"},J={key:0,class:"error"},x={key:1};function M(e,l,t,n,o,r){const s=(0,a.g2)("ListView");return(0,a.uX)(),(0,a.CE)("div",Q,[n.error?((0,a.uX)(),(0,a.CE)("div",J," Could not fetch the data ")):(0,a.Q3)("",!0),n.documents?((0,a.uX)(),(0,a.CE)("div",x,[(0,a.bF)(s,{playlists:n.documents},null,8,["playlists"])])):(0,a.Q3)("",!0)])}const V={class:"single"},T={class:"thumbnail"},W=["src"],H={class:"info"},$={class:"song-number"};function q(e,l,t,n,o,r){const u=(0,a.g2)("router-link");return(0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.playlists,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id},[(0,a.bF)(u,{to:{name:"PlaylistDetails",params:{id:e.id}}},{default:(0,a.k6)((()=>[(0,a.Lk)("div",V,[(0,a.Lk)("div",T,[(0,a.Lk)("img",{src:e.coverUrl,alt:"playlist cover"},null,8,W)]),(0,a.Lk)("div",H,[(0,a.Lk)("h3",null,(0,s.v_)(e.title),1),(0,a.Lk)("p",null,"Created by "+(0,s.v_)(e.userName),1)]),(0,a.Lk)("div",$,[(0,a.Lk)("p",null,(0,s.v_)(e.songs.length),1)])])])),_:2},1032,["to"])])))),128)}var Z={props:["playlists"]};const z=(0,R.A)(Z,[["render",q],["__scopeId","data-v-b8436f04"]]);var G=z;t(8111),t(7588);const Y=(0,f.aU)(),B=(e,l=[])=>{const t=(0,g.KR)(null),n=(0,g.KR)(null),o=[];Array.isArray(l)&&l.forEach(((e,l)=>{Array.isArray(e)&&3===e.length&&!e.includes(void 0)?o.push((0,f._M)(...e)):console.warn(`Invalid query at index ${l}: expected [field, operator, value], got`,e)})),o.push((0,f.My)("createdAt"));try{const l=(0,f.P)((0,f.rJ)(Y,e),...o),r=(0,f.aQ)(l,(e=>{const l=[];e.docs.forEach((e=>{const t=e.data();t.createdAt&&l.push({...t,id:e.id})})),t.value=l,n.value=null}),(e=>{console.error("Firestore error:",e.message),t.value=null,n.value="Could not fetch the data"}));(0,a.nT)((e=>{e((()=>r()))}))}catch(r){console.error("Query construction failed:",r),n.value="Failed to build Firestore query"}return{documents:t,error:n}};var ee=B,le={name:"Home",components:{ListView:G},setup(){const{error:e,documents:l}=ee("playlists");return{error:e,documents:l}}};const te=(0,R.A)(le,[["render",M],["__scopeId","data-v-1cf66e6c"]]);var ne=te;const ae={key:0,class:"error"},oe={key:1},re={key:2,disabled:""};function se(e,l,t,o,r,u){return(0,a.uX)(),(0,a.CE)("form",{onSubmit:l[2]||(l[2]=(0,n.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"]))},[l[3]||(l[3]=(0,a.Lk)("h3",null,"Login",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":l[0]||(l[0]=e=>o.email=e)},null,512),[[n.Jo,o.email]]),(0,a.bo)((0,a.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":l[1]||(l[1]=e=>o.password=e)},null,512),[[n.Jo,o.password]]),o.error?((0,a.uX)(),(0,a.CE)("div",ae,(0,s.v_)(o.error),1)):(0,a.Q3)("",!0),o.isPending?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",oe,"Log in")),o.isPending?((0,a.uX)(),(0,a.CE)("button",re," Loading ")):(0,a.Q3)("",!0)],32)}const ue=(0,g.KR)(null),ie=(0,g.KR)(!1),ce=async(e,l)=>{ue.value=null,ie.value=!0;try{const t=await(0,m.x9)(k,e,l);return ue.value=null,ie.value=!1,t}catch(t){console.log(t.message),ue.value="Incorrect login credentials",ie.value=!1}},de=()=>({error:ue,login:ce,isPending:ie});var pe=de,ve={setup(){const{error:e,login:l,isPending:t}=pe(),n=(0,X.rd)(),a=(0,g.KR)(""),o=(0,g.KR)(""),r=async()=>{await l(a.value,o.value);e.value||(console.log("user logged in"),n.push("/"))};return{email:a,password:o,handleSubmit:r,error:e,isPending:t}}};const ge=(0,R.A)(ve,[["render",se]]);var me=ge;const ye={key:0,class:"error"},fe={key:1},he={key:2,disabled:""};function be(e,l,t,o,r,u){return(0,a.uX)(),(0,a.CE)("form",{onSubmit:l[3]||(l[3]=(0,n.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"]))},[l[4]||(l[4]=(0,a.Lk)("h3",null,"Sign up",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Display name","onUpdate:modelValue":l[0]||(l[0]=e=>o.displayName=e)},null,512),[[n.Jo,o.displayName]]),(0,a.bo)((0,a.Lk)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":l[1]||(l[1]=e=>o.email=e)},null,512),[[n.Jo,o.email]]),(0,a.bo)((0,a.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":l[2]||(l[2]=e=>o.password=e)},null,512),[[n.Jo,o.password]]),o.error?((0,a.uX)(),(0,a.CE)("div",ye,(0,s.v_)(o.error),1)):(0,a.Q3)("",!0),o.isPending?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",fe,"Sign up")),o.isPending?((0,a.uX)(),(0,a.CE)("button",he," Loading ")):(0,a.Q3)("",!0)],32)}const ke=(0,m.xI)(),Le=(0,g.KR)(null),Ce=async(e,l,t)=>{Le.value=null;try{const n=await(0,m.eJ)(ke,e,l);if(!n)throw new Error("Could not complete signup");return await(0,m.r7)(n.user,{displayName:t}),Le.value=null,n}catch(n){console.log(n.message),Le.value=n.message}},we=()=>({error:Le,signup:Ce});var Ee=we,Pe={setup(){const{error:e,signup:l,isPending:t}=Ee(),n=(0,X.rd)(),a=(0,g.KR)(""),o=(0,g.KR)(""),r=(0,g.KR)(""),s=async()=>{await l(a.value,o.value,r.value);e.value||(console.log("user signed up"),n.push("/"))};return{email:a,password:o,displayName:r,handleSubmit:s,error:e,isPending:t}}};const Ue=(0,R.A)(Pe,[["render",be]]);var Ae=Ue;const Se={class:"error"},_e=["disabled"];function Ie(e,l,t,o,r,u){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("form",{onSubmit:l[3]||(l[3]=(0,n.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"]))},[l[4]||(l[4]=(0,a.Lk)("h4",null,"Create a New Playlist",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",required:"",placeholder:"Playlist title","onUpdate:modelValue":l[0]||(l[0]=e=>o.title=e)},null,512),[[n.Jo,o.title]]),(0,a.bo)((0,a.Lk)("textarea",{required:"",placeholder:"Playlist description...","onUpdate:modelValue":l[1]||(l[1]=e=>o.description=e)},null,512),[[n.Jo,o.description]]),l[5]||(l[5]=(0,a.Lk)("label",null,"Upload Playlist Cover Image",-1)),(0,a.Lk)("input",{type:"file",onChange:l[2]||(l[2]=(...e)=>o.handleChange&&o.handleChange(...e))},null,32),(0,a.Lk)("div",Se,(0,s.v_)(o.fileError),1),(0,a.Lk)("button",{disabled:o.isUploading},(0,s.v_)(o.isUploading?"Uploading...":"Create"),9,_e)],32)])}var Xe=t(9119);const Ke="https://cpkgcirswvieiyrgahsb.supabase.co",Re="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNwa2djaXJzd3ZpZWl5cmdhaHNiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5ODE1MTUsImV4cCI6MjA2MzU1NzUxNX0.K1hHLgtFFm-_U2EMDkUnshMTSNGlEbfC2jojo5y9yI8",je=(0,Xe.UU)(Ke,Re),{user:Fe}=I(),Ne=()=>{const e=(0,g.KR)(null),l=(0,g.KR)(null),t=(0,g.KR)(null),n=async n=>{if(e.value=null,l.value=null,!Fe.value||!Fe.value.uid)return void(e.value="User is not authenticated.");const a=`${Date.now()}-${n.name}`;t.value=`covers/${Fe.value.uid}/${a}`;try{const{error:e}=await je.storage.from("images").upload(t.value,n);if(e)throw e;const{data:a,error:o}=je.storage.from("images").getPublicUrl(t.value);if(o)throw o;if(!a||!a.publicUrl)throw new Error("Failed to retrieve image URL.");l.value=a.publicUrl,console.log("Image uploaded. URL:",l.value)}catch(o){console.error("Upload failed:",o.message),e.value=o.message}};return{error:e,url:l,filePath:t,uploadImage:n}};var Oe=Ne,De={setup(){const{filePath:e,url:l,uploadImage:t}=Oe(),n=(0,X.rd)(),{user:a}=I();if(!a)throw new Error("User must be logged in to create a playlist.");const o=(0,g.KR)(""),r=(0,g.KR)(""),s=(0,g.KR)(null),u=(0,g.KR)(null),i=(0,g.KR)(!1),c=async()=>{if(o.value&&r.value)if(s.value){i.value=!0;try{if(await t(s.value),!l.value)throw new Error("Failed to retrieve image URL.");const u=await(0,f.gS)((0,f.rJ)(L,"playlists"),{title:o.value,description:r.value,coverUrl:l.value,createdAt:C,userId:a.value.uid,userName:a.value.displayName||"Anonymous",filePath:e.value,songs:[]});n.push({name:"PlaylistDetails",params:{id:u.id}}),v()}catch(w){console.error("Error creating playlist:",w.message),u.value="Failed to create playlist. Try again."}finally{i.value=!1}}else u.value="Please select a cover image.";else u.value="Please fill in the title and description."},d=["image/png","image/jpeg"],p=e=>{const l=e.target.files[0];l&&d.includes(l.type)?(s.value=l,u.value=null):(s.value=null,u.value="Please select a valid image (PNG or JPG).")},v=()=>{o.value="",r.value="",s.value=null,u.value=null};return{title:o,description:r,handleSubmit:c,fileError:u,handleChange:p,isUploading:i}}};const Qe=(0,R.A)(De,[["render",Ie]]);var Je=Qe;const xe={key:0,class:"error"},Me={key:1,class:"playlist-details"},Ve={class:"playlist-info"},Te={class:"cover"},We=["src"],He={class:"username"},$e={class:"description"},qe={class:"gap"},Ze={class:"song-list"},ze={key:0},Ge={class:"details"},Ye={class:"gap"},Be=["onClick"],el=["onClick"],ll={key:0,class:"loading"},tl={key:1,class:"error"},nl=["src"];function al(e,l,t,n,o,r){const u=(0,a.g2)("AddSong");return(0,a.uX)(),(0,a.CE)(a.FK,null,[n.error?((0,a.uX)(),(0,a.CE)("div",xe,(0,s.v_)(n.error),1)):(0,a.Q3)("",!0),n.playlist?((0,a.uX)(),(0,a.CE)("div",Me,[(0,a.Lk)("div",Ve,[(0,a.Lk)("div",Te,[(0,a.Lk)("img",{src:n.playlist.coverUrl},null,8,We)]),(0,a.Lk)("h2",null,(0,s.v_)(n.playlist.title),1),(0,a.Lk)("p",He,[l[2]||(l[2]=(0,a.eW)(" Created by - ")),(0,a.Lk)("strong",null,(0,s.v_)(n.playlist.userName),1)]),(0,a.Lk)("p",$e,(0,s.v_)(n.playlist.description),1),(0,a.Lk)("div",qe,[n.playlist.songs.length?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:l[0]||(l[0]=(...e)=>n.playAllSongs&&n.playAllSongs(...e)),class:"btn"}," ▶ Play All Songs ")):(0,a.Q3)("",!0),n.ownership?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:l[1]||(l[1]=(...e)=>n.handleDelete&&n.handleDelete(...e))}," Delete Playlist ")):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",Ze,[n.playlist.songs.length?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",ze," No songs have been added to this playlist yet. ")),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.playlist.songs,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"single-song"},[(0,a.Lk)("div",Ge,[(0,a.Lk)("h3",null,(0,s.v_)(e.title),1),(0,a.Lk)("p",null,(0,s.v_)(e.artist),1)]),(0,a.Lk)("div",Ye,[(0,a.Lk)("button",{class:"play-btn",onClick:l=>n.playSong(e.url)}," ▶ ",8,Be),n.ownership?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:l=>n.handleClick(e.id)}," delete ",8,el)):(0,a.Q3)("",!0)])])))),128)),n.ownership?((0,a.uX)(),(0,a.Wv)(u,{key:1,playlist:n.playlist},null,8,["playlist"])):(0,a.Q3)("",!0)]),n.loading?((0,a.uX)(),(0,a.CE)("div",ll," Loading audio... ")):(0,a.Q3)("",!0),n.apiError?((0,a.uX)(),(0,a.CE)("div",tl,(0,s.v_)(n.apiError),1)):(0,a.Q3)("",!0),n.currentAudioUrl?((0,a.uX)(),(0,a.CE)("audio",{key:2,src:n.currentAudioUrl,controls:"",autoplay:"",class:"audio-player"},null,8,nl)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)],64)}t(2489);const ol={class:"add-song"},rl={class:"form-header"};function sl(e,l,t,o,r,s){return(0,a.uX)(),(0,a.CE)("div",ol,[o.showForm?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:l[0]||(l[0]=e=>o.showForm=!0)}," Add Songs ")),o.showForm?((0,a.uX)(),(0,a.CE)("form",{key:1,onSubmit:l[5]||(l[5]=(0,n.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"])),class:"song-form"},[(0,a.Lk)("div",rl,[l[6]||(l[6]=(0,a.Lk)("h4",null,"Add a New Song",-1)),(0,a.Lk)("button",{type:"button",class:"close-btn",onClick:l[1]||(l[1]=e=>o.showForm=!1)}," ✖ ")]),(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Song title",required:"","onUpdate:modelValue":l[2]||(l[2]=e=>o.title=e)},null,512),[[n.Jo,o.title]]),(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Artist",required:"","onUpdate:modelValue":l[3]||(l[3]=e=>o.artist=e)},null,512),[[n.Jo,o.artist]]),(0,a.bo)((0,a.Lk)("input",{type:"url",placeholder:"YouTube URL",required:"","onUpdate:modelValue":l[4]||(l[4]=e=>o.url=e)},null,512),[[n.Jo,o.url]]),l[7]||(l[7]=(0,a.Lk)("button",null,"Add",-1))],32)):(0,a.Q3)("",!0)])}const ul=(e,l)=>{const t=(0,g.KR)(null),n=(0,g.KR)(!1),a=(0,f.H9)(L,e,l),o=async()=>{n.value=!0,t.value=null;try{const e=await(0,f.kd)(a);return n.value=!1,e}catch(e){console.error("Error deleting document:",e.message),t.value="Could not delete the document",n.value=!1}},r=async e=>{n.value=!0,t.value=null;try{await(0,f.mZ)(a,e),n.value=!1}catch(l){console.error("Error updating document:",l.message),t.value="Could not update the document",n.value=!1}};return{error:t,isPending:n,deleteDoc:o,updateDoc:r}};var il=ul,cl={props:["playlist"],setup(e){const l=(0,g.KR)(""),t=(0,g.KR)(""),n=(0,g.KR)("");let a=(0,g.KR)(!1);const{updateDoc:o}=il("playlists",e.playlist.id),r=async()=>{const r={id:Math.floor(1e6*Math.random()),title:l.value,artist:t.value,url:n.value};await o({songs:[...e.playlist.songs,r]}),l.value="",t.value="",n.value="",a.value=!1};return{title:l,artist:t,url:n,showForm:a,handleSubmit:r}}};const dl=(0,R.A)(cl,[["render",sl],["__scopeId","data-v-482d4038"]]);var pl=dl;const vl=(0,f.aU)(),gl=(e,l)=>{const t=(0,g.KR)(null),n=(0,g.KR)(null),o=(0,f.H9)(vl,e,l),r=(0,f.aQ)(o,(e=>{e.exists()?(t.value={...e.data(),id:e.id},n.value=null):(console.error("Document not found"),t.value=null,n.value="Document not found")}),(e=>{console.error("Firestore error:",e.message),t.value=null,n.value="Could not fetch the document"}));return(0,a.nT)((e=>{e((()=>r()))})),{document:t,error:n}};var ml=gl,yl={props:["id"],components:{AddSong:pl},setup(e){const{error:l,document:t}=ml("playlists",e.id),{user:n}=I(),{deleteDoc:o,updateDoc:r}=il("playlists",e.id),s=(0,X.rd)(),u=(0,g.KR)(null),i=(0,g.KR)(""),c=(0,g.KR)(!1),d=(0,g.KR)(""),p=(0,a.EW)((()=>t.value&&n.value&&n.value.uid==t.value.userId)),v=e=>{const l=e.match(/(?:v=|\/)([0-9A-Za-z_-]{11})(?:&|$)/);return l?l[1]:null},m=async(e,l=null)=>{const t=v(e);if(t){c.value=!0,i.value="",d.value="",u.value=l;try{const e=await fetch(`https://youtube-mp36.p.rapidapi.com/dl?id=${t}`,{method:"GET",headers:{"X-RapidAPI-Key":"da0bbb2e99msh7e80c2ea877ec8ep1aee93jsna6512be9ae22","X-RapidAPI-Host":"youtube-mp36.p.rapidapi.com"}}),l=await e.json();if("ok"===l.status&&l.link){i.value=l.link,await(0,a.dY)();const e=document.querySelector(".audio-player");e&&(e.play().catch((e=>{d.value="Autoplay blocked by browser. Please press play.",console.error("Autoplay error:",e)})),e.onended=f)}else d.value="Failed to convert video."}catch(n){d.value="API Error: "+n.message}finally{c.value=!1}}else d.value="Invalid YouTube URL."},y=()=>{t.value&&t.value.songs.length>0&&m(t.value.songs[0].url,0)},f=()=>{if(t.value&&null!==u.value&&u.value+1<t.value.songs.length){const e=u.value+1;m(t.value.songs[e].url,e)}else u.value=null,i.value=""},h=async()=>{await o(),s.push({name:"Home"})},b=e=>{const l=t.value.songs.filter((l=>l.id!=e));r({songs:l}),console.log("Song removed from playlist")};return{error:l,playlist:t,ownership:p,handleDelete:h,handleClick:b,playSong:m,playAllSongs:y,playNextSong:f,currentAudioUrl:i,apiError:d,loading:c}}};const fl=(0,R.A)(yl,[["render",al],["__scopeId","data-v-b687d560"]]);var hl=fl;const bl={key:0};function kl(e,l,t,n,o,r){const s=(0,a.g2)("ListView"),u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)(a.FK,null,[l[1]||(l[1]=(0,a.Lk)("div",{class:"user-playlists"},[(0,a.Lk)("h2",null,"My playlists")],-1)),n.playlists?((0,a.uX)(),(0,a.CE)("div",bl,[(0,a.bF)(s,{playlists:n.playlists},null,8,["playlists"])])):(0,a.Q3)("",!0),(0,a.bF)(u,{class:"btn",to:{name:"CreatePlaylist"}},{default:(0,a.k6)((()=>l[0]||(l[0]=[(0,a.eW)("Create new playlist")]))),_:1})],64)}var Ll={name:"UserPlaylists",components:{ListView:G},setup(){const{user:e}=I(),{documents:l}=ee("playlists",["userId","==",e.value.uid]);return console.log("UserPlaylists",l),{playlists:l}}};const Cl=(0,R.A)(Ll,[["render",kl]]);var wl=Cl;const El=(e,l,t)=>{const n=k.onAuthStateChanged((e=>{e?(console.log("Auth state resolved: Logged in"),t()):(console.log("Auth state resolved: Not logged in"),t({name:"Login"})),n()}))},Pl=[{path:"/",name:"Home",component:ne,beforeEnter:El},{path:"/login",name:"Login",component:me},{path:"/signup",name:"Signup",component:Ae},{path:"/playlist/create",name:"CreatePlaylist",component:Je,beforeEnter:El},{path:"/playlist/:id",name:"PlaylistDetails",component:hl,beforeEnter:El,props:!0},{path:"/playlists/user",name:"UserPlaylists",component:wl,beforeEnter:El}],Ul=(0,X.aE)({history:(0,X.LA)("/"),routes:Pl});var Al=Ul;let Sl;k.onAuthStateChanged((e=>{Sl||(Sl=(0,n.Ef)(D),Sl.use(Al),Sl.mount("#app"))}))}},l={};function t(n){var a=l[n];if(void 0!==a)return a.exports;var o=l[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(l,n,a,o){if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],o=e[c][2];for(var s=!0,u=0;u<n.length;u++)(!1&o||r>=o)&&Object.keys(t.O).every((function(e){return t.O[e](n[u])}))?n.splice(u--,1):(s=!1,o<r&&(r=o));if(s){e.splice(c--,1);var i=a();void 0!==i&&(l=i)}}return l}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,a,o]}}(),function(){t.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(l,{a:l}),l}}(),function(){var e,l=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};t.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var o=Object.create(null);t.r(o);var r={};e=e||[null,l({}),l([]),l(l)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=l(s))Object.getOwnPropertyNames(s).forEach((function(e){r[e]=function(){return n[e]}}));return r["default"]=function(){return n},t.d(o,r),o}}(),function(){t.d=function(e,l){for(var n in l)t.o(l,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:l[n]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(l,n){return t.f[n](e,l),l}),[]))}}(),function(){t.u=function(e){return"js/"+e+".7e4ee946.js"}}(),function(){t.miniCssF=function(e){}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={},l="muso-ninja:";t.l=function(n,a,o,r){if(e[n])e[n].push(a);else{var s,u;if(void 0!==o)for(var i=document.getElementsByTagName("script"),c=0;c<i.length;c++){var d=i[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==l+o){s=d;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",l+o),s.src=n),e[n]=[a];var p=function(l,t){s.onerror=s.onload=null,clearTimeout(v);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(t)})),l)return l(t)},v=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={524:0};t.f.j=function(l,n){var a=t.o(e,l)?e[l]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise((function(t,n){a=e[l]=[t,n]}));n.push(a[2]=o);var r=t.p+t.u(l),s=new Error,u=function(n){if(t.o(e,l)&&(a=e[l],0!==a&&(e[l]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+l+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,a[1](s)}};t.l(r,u,"chunk-"+l,l)}},t.O.j=function(l){return 0===e[l]};var l=function(l,n){var a,o,r=n[0],s=n[1],u=n[2],i=0;if(r.some((function(l){return 0!==e[l]}))){for(a in s)t.o(s,a)&&(t.m[a]=s[a]);if(u)var c=u(t)}for(l&&l(n);i<r.length;i++)o=r[i],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},n=self["webpackChunkmuso_ninja"]=self["webpackChunkmuso_ninja"]||[];n.forEach(l.bind(null,0)),n.push=l.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(8441)}));n=t.O(n)})();
//# sourceMappingURL=app.71ced6a6.js.map