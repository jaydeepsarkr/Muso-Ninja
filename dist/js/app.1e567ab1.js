(function(){"use strict";var e={5770:function(e,t,l){var n=l(5130),a=l(6768);const o={class:"content"};function r(e,t,l,n,r,s){const u=(0,a.g2)("Navbar"),i=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(u),(0,a.Lk)("div",o,[(0,a.bF)(i)])],64)}var s=l(4232),u=l.p+"img/ninja.b28c4fe4.png";const i={class:"navbar"},c={class:"links"},d={key:0},p={id:"user-info"},v={key:1};function g(e,t,l,n,o,r){const g=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("nav",null,[t[7]||(t[7]=(0,a.Lk)("img",{src:u,alt:"website logo"},null,-1)),(0,a.Lk)("h1",null,[(0,a.bF)(g,{to:{name:"Home"}},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)("Music")]))),_:1})]),(0,a.Lk)("div",c,[n.user?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(g,{to:{name:"CreatePlaylist"},class:"btn",id:"create-playlist"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)("Create Playlist")]))),_:1}),(0,a.bF)(g,{to:{name:"UserPlaylists"},class:"btn",id:"my-playlists"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("My Playlists")]))),_:1}),(0,a.Lk)("span",p,[t[4]||(t[4]=(0,a.eW)("Hi There, ")),(0,a.Lk)("strong",null,(0,s.v_)(n.user.displayName),1)]),(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.handleLogout&&n.handleLogout(...e))},"Logout")])):((0,a.uX)(),(0,a.CE)("div",v,[(0,a.bF)(g,{to:{name:"Login"},class:"btn",id:"login"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)("Login")]))),_:1}),(0,a.bF)(g,{to:{name:"Signup"},class:"btn",id:"signup"},{default:(0,a.k6)((()=>t[6]||(t[6]=[(0,a.eW)("Sign Up")]))),_:1})]))])])])}l(4114);var m=l(144),y=l(4370),f=l(6400),h=l(7617);const b={apiKey:"AIzaSyDZ6Hcyh0Mm-ZXuhnKtPgwjdnV_bKAIX-4",authDomain:"muso-ninjas-d9f8e.firebaseapp.com",projectId:"muso-ninjas-d9f8e",storageBucket:"muso-ninjas-d9f8e.appspot.com",messagingSenderId:"946007023601",appId:"1:946007023601:web:3c125346910bc666b96e50"},k=(0,f.Wp)(b),L=(0,y.xI)(k),C=(0,h.aU)(k),w=(0,h.O5)(),E=(0,m.KR)(null),P=async()=>{E.value=null;try{await(0,y.CI)(L)}catch(e){console.error(e.message),E.value=e.message}},A=()=>({error:E,logout:P});var U=A;const _=(0,y.xI)(),S=(0,m.KR)(_.currentUser);(0,y.hg)(_,(e=>{console.log("User state change. Current user is:",e),S.value=e}));const I=()=>({user:S});var X=I,K=l(1387),R={name:"Navbar",setup(){const{user:e}=X(),{logout:t}=U(),l=(0,K.rd)(),n=async()=>{await t(),console.log("Logged out"),l.push({name:"Login"})};return{handleLogout:n,user:e}}},j=l(1241);const F=(0,j.A)(R,[["render",g],["__scopeId","data-v-a2efc3b2"]]);var N=F,O={components:{Navbar:N}};const D=(0,j.A)(O,[["render",r]]);var J=D;const Q={class:"home"},x={key:0,class:"error"},M={key:1};function V(e,t,l,n,o,r){const s=(0,a.g2)("ListView");return(0,a.uX)(),(0,a.CE)("div",Q,[n.error?((0,a.uX)(),(0,a.CE)("div",x," Could not fetch the data ")):(0,a.Q3)("",!0),n.documents?((0,a.uX)(),(0,a.CE)("div",M,[(0,a.bF)(s,{playlists:n.documents},null,8,["playlists"])])):(0,a.Q3)("",!0)])}const T={class:"playlist-wrapper"},H={class:"card-thumbnail"},$=["src"],W={class:"card-body"},q={class:"card-title"},Z={class:"card-creator"},z={class:"card-count"};function B(e,t,l,n,o,r){const u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",T,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.playlists,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"card"},[(0,a.bF)(u,{to:{name:"PlaylistDetails",params:{id:e.id}},class:"card-link"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",H,[(0,a.Lk)("img",{src:e.coverUrl,alt:"playlist cover"},null,8,$)]),(0,a.Lk)("div",W,[(0,a.Lk)("h3",q,(0,s.v_)(e.title),1),(0,a.Lk)("p",Z,"By "+(0,s.v_)(e.userName),1),(0,a.Lk)("p",z,(0,s.v_)(e.songs.length)+" Songs",1)])])),_:2},1032,["to"])])))),128))])}var G={props:["playlists"]};const Y=(0,j.A)(G,[["render",B],["__scopeId","data-v-3988ae4e"]]);var ee=Y;l(8111),l(7588);const te=(0,h.aU)(),le=(e,t=[],l={})=>{const n=(0,m.KR)(null),o=(0,m.KR)(null),r=[];Array.isArray(t)&&t.forEach(((e,t)=>{Array.isArray(e)&&3===e.length&&!e.includes(void 0)?r.push((0,h._M)(...e)):console.warn(`Invalid query at index ${t}: expected [field, operator, value], got`,e)})),r.push((0,h.My)("createdAt",l.order||"desc")),l.limit&&r.push((0,h.AB)(l.limit));try{const t=(0,h.P)((0,h.rJ)(te,e),...r),l=(0,h.aQ)(t,(e=>{const t=[];e.docs.forEach((e=>{const l=e.data();void 0!==l.createdAt&&t.push({...l,id:e.id})})),n.value=t,o.value=null}),(e=>{console.error("Firestore error:",e.message),n.value=null,o.value="Could not fetch the data"}));(0,a.nT)((e=>{e((()=>l()))}))}catch(s){console.error("Query construction failed:",s),o.value="Failed to build Firestore query"}return{documents:n,error:o}};var ne=le,ae={name:"Home",components:{ListView:ee},setup(){const{error:e,documents:t}=ne("playlists");return{error:e,documents:t}}};const oe=(0,j.A)(ae,[["render",V],["__scopeId","data-v-2ea86854"]]);var re=oe;const se={key:0,class:"error"},ue={key:1},ie={key:2,disabled:""};function ce(e,t,l,o,r,u){return(0,a.uX)(),(0,a.CE)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"]))},[t[3]||(t[3]=(0,a.Lk)("h3",null,"Login",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e)},null,512),[[n.Jo,o.email]]),(0,a.bo)((0,a.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e)},null,512),[[n.Jo,o.password]]),o.error?((0,a.uX)(),(0,a.CE)("div",se,(0,s.v_)(o.error),1)):(0,a.Q3)("",!0),o.isPending?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",ue,"Log in")),o.isPending?((0,a.uX)(),(0,a.CE)("button",ie," Loading ")):(0,a.Q3)("",!0)],32)}const de=(0,m.KR)(null),pe=(0,m.KR)(!1),ve=async(e,t)=>{de.value=null,pe.value=!0;try{const l=await(0,y.x9)(L,e,t);return de.value=null,pe.value=!1,l}catch(l){console.log(l.message),de.value="Incorrect login credentials",pe.value=!1}},ge=()=>({error:de,login:ve,isPending:pe});var me=ge,ye={setup(){const{error:e,login:t,isPending:l}=me(),n=(0,K.rd)(),a=(0,m.KR)(""),o=(0,m.KR)(""),r=async()=>{await t(a.value,o.value);e.value||(console.log("user logged in"),n.push("/"))};return{email:a,password:o,handleSubmit:r,error:e,isPending:l}}};const fe=(0,j.A)(ye,[["render",ce]]);var he=fe;const be={key:0,class:"error"},ke={key:1},Le={key:2,disabled:""};function Ce(e,t,l,o,r,u){return(0,a.uX)(),(0,a.CE)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"]))},[t[4]||(t[4]=(0,a.Lk)("h3",null,"Sign up",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Display name","onUpdate:modelValue":t[0]||(t[0]=e=>o.displayName=e)},null,512),[[n.Jo,o.displayName]]),(0,a.bo)((0,a.Lk)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=e=>o.email=e)},null,512),[[n.Jo,o.email]]),(0,a.bo)((0,a.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[2]||(t[2]=e=>o.password=e)},null,512),[[n.Jo,o.password]]),o.error?((0,a.uX)(),(0,a.CE)("div",be,(0,s.v_)(o.error),1)):(0,a.Q3)("",!0),o.isPending?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",ke,"Sign up")),o.isPending?((0,a.uX)(),(0,a.CE)("button",Le," Loading ")):(0,a.Q3)("",!0)],32)}const we=(0,y.xI)(),Ee=(0,m.KR)(null),Pe=async(e,t,l)=>{Ee.value=null;try{const n=await(0,y.eJ)(we,e,t);if(!n)throw new Error("Could not complete signup");return await(0,y.r7)(n.user,{displayName:l}),Ee.value=null,n}catch(n){console.log(n.message),Ee.value=n.message}},Ae=()=>({error:Ee,signup:Pe});var Ue=Ae,_e={setup(){const{error:e,signup:t,isPending:l}=Ue(),n=(0,K.rd)(),a=(0,m.KR)(""),o=(0,m.KR)(""),r=(0,m.KR)(""),s=async()=>{await t(a.value,o.value,r.value);e.value||(console.log("user signed up"),n.push("/"))};return{email:a,password:o,displayName:r,handleSubmit:s,error:e,isPending:l}}};const Se=(0,j.A)(_e,[["render",Ce]]);var Ie=Se;const Xe={class:"error"},Ke=["disabled"];function Re(e,t,l,o,r,u){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"]))},[t[4]||(t[4]=(0,a.Lk)("h4",null,"Create a New Playlist",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",required:"",placeholder:"Playlist title","onUpdate:modelValue":t[0]||(t[0]=e=>o.title=e)},null,512),[[n.Jo,o.title]]),(0,a.bo)((0,a.Lk)("textarea",{required:"",placeholder:"Playlist description...","onUpdate:modelValue":t[1]||(t[1]=e=>o.description=e)},null,512),[[n.Jo,o.description]]),t[5]||(t[5]=(0,a.Lk)("label",null,"Upload Playlist Cover Image",-1)),(0,a.Lk)("input",{type:"file",onChange:t[2]||(t[2]=(...e)=>o.handleChange&&o.handleChange(...e))},null,32),(0,a.Lk)("div",Xe,(0,s.v_)(o.fileError),1),(0,a.Lk)("button",{disabled:o.isUploading},(0,s.v_)(o.isUploading?"Uploading...":"Create"),9,Ke)],32)])}var je=l(9119);const Fe="https://cpkgcirswvieiyrgahsb.supabase.co",Ne="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNwa2djaXJzd3ZpZWl5cmdhaHNiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5ODE1MTUsImV4cCI6MjA2MzU1NzUxNX0.K1hHLgtFFm-_U2EMDkUnshMTSNGlEbfC2jojo5y9yI8",Oe=(0,je.UU)(Fe,Ne),{user:De}=X(),Je=()=>{const e=(0,m.KR)(null),t=(0,m.KR)(null),l=(0,m.KR)(null),n=async n=>{if(e.value=null,t.value=null,!De.value||!De.value.uid)return void(e.value="User is not authenticated.");const a=`${Date.now()}-${n.name}`;l.value=`covers/${De.value.uid}/${a}`;try{const{error:e}=await Oe.storage.from("images").upload(l.value,n);if(e)throw e;const{data:a,error:o}=Oe.storage.from("images").getPublicUrl(l.value);if(o)throw o;if(!a||!a.publicUrl)throw new Error("Failed to retrieve image URL.");t.value=a.publicUrl,console.log("Image uploaded. URL:",t.value)}catch(o){console.error("Upload failed:",o.message),e.value=o.message}};return{error:e,url:t,filePath:l,uploadImage:n}};var Qe=Je,xe={setup(){const{filePath:e,url:t,uploadImage:l}=Qe(),n=(0,K.rd)(),{user:a}=X();if(!a)throw new Error("User must be logged in to create a playlist.");const o=(0,m.KR)(""),r=(0,m.KR)(""),s=(0,m.KR)(null),u=(0,m.KR)(null),i=(0,m.KR)(!1),c=async()=>{if(o.value&&r.value)if(s.value){i.value=!0;try{if(await l(s.value),!t.value)throw new Error("Failed to retrieve image URL.");const u=await(0,h.gS)((0,h.rJ)(C,"playlists"),{title:o.value,description:r.value,coverUrl:t.value,createdAt:w,userId:a.value.uid,userName:a.value.displayName||"Anonymous",filePath:e.value,songs:[]});n.push({name:"PlaylistDetails",params:{id:u.id}}),v()}catch(E){console.error("Error creating playlist:",E.message),u.value="Failed to create playlist. Try again."}finally{i.value=!1}}else u.value="Please select a cover image.";else u.value="Please fill in the title and description."},d=["image/png","image/jpeg"],p=e=>{const t=e.target.files[0];t&&d.includes(t.type)?(s.value=t,u.value=null):(s.value=null,u.value="Please select a valid image (PNG or JPG).")},v=()=>{o.value="",r.value="",s.value=null,u.value=null};return{title:o,description:r,handleSubmit:c,fileError:u,handleChange:p,isUploading:i}}};const Me=(0,j.A)(xe,[["render",Re]]);var Ve=Me;const Te={key:0,class:"error"},He={key:1,class:"playlist-details"},$e={class:"playlist-info"},We={class:"cover"},qe=["src"],Ze={class:"username"},ze={class:"description"},Be={class:"gap"},Ge={class:"song-list"},Ye={key:0},et={class:"details"},tt={class:"gap"},lt=["onClick"],nt=["onClick"],at={key:0,class:"loading"},ot={key:1,class:"error"},rt=["src"];function st(e,t,l,n,o,r){const u=(0,a.g2)("AddSong");return(0,a.uX)(),(0,a.CE)(a.FK,null,[n.error?((0,a.uX)(),(0,a.CE)("div",Te,(0,s.v_)(n.error),1)):(0,a.Q3)("",!0),n.playlist?((0,a.uX)(),(0,a.CE)("div",He,[(0,a.Lk)("div",$e,[(0,a.Lk)("div",We,[(0,a.Lk)("img",{src:n.playlist.coverUrl},null,8,qe)]),(0,a.Lk)("h2",null,(0,s.v_)(n.playlist.title),1),(0,a.Lk)("p",Ze,[t[2]||(t[2]=(0,a.eW)(" Created by - ")),(0,a.Lk)("strong",null,(0,s.v_)(n.playlist.userName),1)]),(0,a.Lk)("p",ze,(0,s.v_)(n.playlist.description),1),(0,a.Lk)("div",Be,[n.playlist.songs.length?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>n.playAllSongs&&n.playAllSongs(...e)),class:"btn"}," ▶ Play All Songs ")):(0,a.Q3)("",!0),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.handleDelete&&n.handleDelete(...e))},"Delete Playlist")])]),(0,a.Lk)("div",Ge,[n.playlist.songs.length?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",Ye," No songs have been added to this playlist yet. ")),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.playlist.songs,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"single-song"},[(0,a.Lk)("div",et,[(0,a.Lk)("h3",null,(0,s.v_)(e.title),1),(0,a.Lk)("p",null,(0,s.v_)(e.artist),1)]),(0,a.Lk)("div",tt,[(0,a.Lk)("button",{class:"play-btn",onClick:t=>n.playSong(e.url)}," ▶ ",8,lt),(0,a.Lk)("button",{onClick:t=>n.handleClick(e.id)},"delete",8,nt)])])))),128)),(0,a.bF)(u,{playlist:n.playlist},null,8,["playlist"])]),n.loading?((0,a.uX)(),(0,a.CE)("div",at," Loading audio... ")):(0,a.Q3)("",!0),n.apiError?((0,a.uX)(),(0,a.CE)("div",ot,(0,s.v_)(n.apiError),1)):(0,a.Q3)("",!0),n.currentAudioUrl?((0,a.uX)(),(0,a.CE)("audio",{key:2,src:n.currentAudioUrl,controls:"",autoplay:"",class:"audio-player"},null,8,rt)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)],64)}l(2489);const ut={class:"add-song"},it={class:"form-header"};function ct(e,t,l,o,r,s){return(0,a.uX)(),(0,a.CE)("div",ut,[o.showForm?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[0]||(t[0]=e=>o.showForm=!0)}," Add Songs ")),o.showForm?((0,a.uX)(),(0,a.CE)("form",{key:1,onSubmit:t[5]||(t[5]=(0,n.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"])),class:"song-form"},[(0,a.Lk)("div",it,[t[6]||(t[6]=(0,a.Lk)("h4",null,"Add a New Song",-1)),(0,a.Lk)("button",{type:"button",class:"close-btn",onClick:t[1]||(t[1]=e=>o.showForm=!1)}," ✖ ")]),(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Song title",required:"","onUpdate:modelValue":t[2]||(t[2]=e=>o.title=e)},null,512),[[n.Jo,o.title]]),(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Artist",required:"","onUpdate:modelValue":t[3]||(t[3]=e=>o.artist=e)},null,512),[[n.Jo,o.artist]]),(0,a.bo)((0,a.Lk)("input",{type:"url",placeholder:"YouTube URL",required:"","onUpdate:modelValue":t[4]||(t[4]=e=>o.url=e)},null,512),[[n.Jo,o.url]]),t[7]||(t[7]=(0,a.Lk)("button",null,"Add",-1))],32)):(0,a.Q3)("",!0)])}const dt=(e,t)=>{const l=(0,m.KR)(null),n=(0,m.KR)(!1),a=(0,h.H9)(C,e,t),o=async()=>{n.value=!0,l.value=null;try{const e=await(0,h.kd)(a);return n.value=!1,e}catch(e){console.error("Error deleting document:",e.message),l.value="Could not delete the document",n.value=!1}},r=async e=>{n.value=!0,l.value=null;try{await(0,h.mZ)(a,e),n.value=!1}catch(t){console.error("Error updating document:",t.message),l.value="Could not update the document",n.value=!1}};return{error:l,isPending:n,deleteDoc:o,updateDoc:r}};var pt=dt,vt={props:["playlist"],setup(e){const t=(0,m.KR)(""),l=(0,m.KR)(""),n=(0,m.KR)("");let a=(0,m.KR)(!1);const{updateDoc:o}=pt("playlists",e.playlist.id),r=async()=>{const r={id:Math.floor(1e6*Math.random()),title:t.value,artist:l.value,url:n.value};await o({songs:[...e.playlist.songs,r]}),t.value="",l.value="",n.value="",a.value=!1};return{title:t,artist:l,url:n,showForm:a,handleSubmit:r}}};const gt=(0,j.A)(vt,[["render",ct],["__scopeId","data-v-482d4038"]]);var mt=gt;const yt=(0,h.aU)(),ft=(e,t)=>{const l=(0,m.KR)(null),n=(0,m.KR)(null),o=(0,h.H9)(yt,e,t),r=(0,h.aQ)(o,(e=>{e.exists()?(l.value={...e.data(),id:e.id},n.value=null):(console.error("Document not found"),l.value=null,n.value="Document not found")}),(e=>{console.error("Firestore error:",e.message),l.value=null,n.value="Could not fetch the document"}));return(0,a.nT)((e=>{e((()=>r()))})),{document:l,error:n}};var ht=ft,bt={props:["id"],components:{AddSong:mt},setup(e){const{error:t,document:l}=ht("playlists",e.id),{user:n}=X(),{deleteDoc:o,updateDoc:r}=pt("playlists",e.id),s=(0,K.rd)(),u=(0,m.KR)(null),i=(0,m.KR)(""),c=(0,m.KR)(!1),d=(0,m.KR)(""),p=e=>{const t=e.match(/(?:v=|\/)([0-9A-Za-z_-]{11})(?:&|$)/);return t?t[1]:null},v=async(e,t=null)=>{const l=p(e);if(l){c.value=!0,i.value="",d.value="",u.value=t;try{const e=await fetch(`https://youtube-mp36.p.rapidapi.com/dl?id=${l}`,{method:"GET",headers:{"X-RapidAPI-Key":"da0bbb2e99msh7e80c2ea877ec8ep1aee93jsna6512be9ae22","X-RapidAPI-Host":"youtube-mp36.p.rapidapi.com"}}),t=await e.json();if("ok"===t.status&&t.link){i.value=t.link,await(0,a.dY)();const e=document.querySelector(".audio-player");e&&(e.play().catch((e=>{d.value="Autoplay blocked by browser. Please press play.",console.error("Autoplay error:",e)})),e.onended=y)}else d.value="Failed to convert video."}catch(n){d.value="API Error: "+n.message}finally{c.value=!1}}else d.value="Invalid YouTube URL."},g=()=>{l.value&&l.value.songs.length>0&&v(l.value.songs[0].url,0)},y=()=>{if(l.value&&null!==u.value&&u.value+1<l.value.songs.length){const e=u.value+1;v(l.value.songs[e].url,e)}else u.value=null,i.value=""},f=async()=>{await o(),s.push({name:"Home"})},h=e=>{const t=l.value.songs.filter((t=>t.id!=e));r({songs:t}),console.log("Song removed from playlist")};return{error:t,playlist:l,ownership:ownership,handleDelete:f,handleClick:h,playSong:v,playAllSongs:g,playNextSong:y,currentAudioUrl:i,apiError:d,loading:c}}};const kt=(0,j.A)(bt,[["render",st],["__scopeId","data-v-aec3ea34"]]);var Lt=kt;const Ct={class:"user-playlists"},wt={key:0};function Et(e,t,l,n,o,r){const s=(0,a.g2)("ListView"),u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",Ct,[t[1]||(t[1]=(0,a.Lk)("h2",null,"My playlists",-1)),n.playlists?((0,a.uX)(),(0,a.CE)("div",wt,[(0,a.bF)(s,{playlists:n.playlists},null,8,["playlists"])])):(0,a.Q3)("",!0),(0,a.bF)(u,{class:"btn",to:{name:"CreatePlaylist"}},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.eW)(" Create new playlist ")]))),_:1})])}var Pt={name:"UserPlaylists",components:{ListView:ee},setup(){const{user:e}=X(),{documents:t}=ne("playlists",[["userId","==",e.value.uid]]);return console.log("UserPlaylists",t),{playlists:t}}};const At=(0,j.A)(Pt,[["render",Et],["__scopeId","data-v-9376f972"]]);var Ut=At;const _t=(e,t,l)=>{const n=L.onAuthStateChanged((e=>{e?(console.log("Auth state resolved: Logged in"),l()):(console.log("Auth state resolved: Not logged in"),l({name:"Login"})),n()}))},St=[{path:"/",name:"Home",component:re,beforeEnter:_t},{path:"/login",name:"Login",component:he},{path:"/signup",name:"Signup",component:Ie},{path:"/playlist/create",name:"CreatePlaylist",component:Ve,beforeEnter:_t},{path:"/playlist/:id",name:"PlaylistDetails",component:Lt,beforeEnter:_t,props:!0},{path:"/playlists/user",name:"UserPlaylists",component:Ut,beforeEnter:_t}],It=(0,K.aE)({history:(0,K.LA)("/"),routes:St});var Xt=It;let Kt;L.onAuthStateChanged((e=>{Kt||(Kt=(0,n.Ef)(J),Kt.use(Xt),Kt.mount("#app"))}))}},t={};function l(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,l),o.exports}l.m=e,function(){var e=[];l.O=function(t,n,a,o){if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],o=e[c][2];for(var s=!0,u=0;u<n.length;u++)(!1&o||r>=o)&&Object.keys(l.O).every((function(e){return l.O[e](n[u])}))?n.splice(u--,1):(s=!1,o<r&&(r=o));if(s){e.splice(c--,1);var i=a();void 0!==i&&(t=i)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,a,o]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};l.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var o=Object.create(null);l.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){r[e]=function(){return n[e]}}));return r["default"]=function(){return n},l.d(o,r),o}}(),function(){l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce((function(t,n){return l.f[n](e,t),t}),[]))}}(),function(){l.u=function(e){return"js/"+e+".7e4ee946.js"}}(),function(){l.miniCssF=function(e){}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="muso-ninja:";l.l=function(n,a,o,r){if(e[n])e[n].push(a);else{var s,u;if(void 0!==o)for(var i=document.getElementsByTagName("script"),c=0;c<i.length;c++){var d=i[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,l.nc&&s.setAttribute("nonce",l.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[a];var p=function(t,l){s.onerror=s.onload=null,clearTimeout(v);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(l)})),t)return t(l)},v=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p="/"}(),function(){var e={524:0};l.f.j=function(t,n){var a=l.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise((function(l,n){a=e[t]=[l,n]}));n.push(a[2]=o);var r=l.p+l.u(t),s=new Error,u=function(n){if(l.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,a[1](s)}};l.l(r,u,"chunk-"+t,t)}},l.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,r=n[0],s=n[1],u=n[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(a in s)l.o(s,a)&&(l.m[a]=s[a]);if(u)var c=u(l)}for(t&&t(n);i<r.length;i++)o=r[i],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(c)},n=self["webpackChunkmuso_ninja"]=self["webpackChunkmuso_ninja"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=l.O(void 0,[504],(function(){return l(5770)}));n=l.O(n)})();
//# sourceMappingURL=app.1e567ab1.js.map