(function(){"use strict";var e={2774:function(e,l,t){var n=t(5130),a=t(6768);const o={class:"content"};function r(e,l,t,n,r,s){const u=(0,a.g2)("Navbar"),i=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(u),(0,a.Lk)("div",o,[(0,a.bF)(i)])],64)}var s=t(4232),u=t.p+"img/ninja.b28c4fe4.png";const i={class:"navbar"},c={class:"links"},d={key:0},p={id:"user-info"},v={key:1};function g(e,l,t,n,o,r){const g=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("nav",null,[l[7]||(l[7]=(0,a.Lk)("img",{src:u,alt:"website logo"},null,-1)),(0,a.Lk)("h1",null,[(0,a.bF)(g,{to:{name:"Home"}},{default:(0,a.k6)((()=>l[1]||(l[1]=[(0,a.eW)("Music")]))),_:1})]),(0,a.Lk)("div",c,[n.user?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(g,{to:{name:"CreatePlaylist"},class:"btn",id:"create-playlist"},{default:(0,a.k6)((()=>l[2]||(l[2]=[(0,a.eW)("Create Playlist")]))),_:1}),(0,a.bF)(g,{to:{name:"UserPlaylists"},class:"btn",id:"my-playlists"},{default:(0,a.k6)((()=>l[3]||(l[3]=[(0,a.eW)("My Playlists")]))),_:1}),(0,a.Lk)("span",p,[l[4]||(l[4]=(0,a.eW)("Hi There, ")),(0,a.Lk)("strong",null,(0,s.v_)(n.user.displayName),1)]),(0,a.Lk)("button",{onClick:l[0]||(l[0]=(...e)=>n.handleLogout&&n.handleLogout(...e))},"Logout")])):((0,a.uX)(),(0,a.CE)("div",v,[(0,a.bF)(g,{to:{name:"Login"},class:"btn",id:"login"},{default:(0,a.k6)((()=>l[5]||(l[5]=[(0,a.eW)("Login")]))),_:1}),(0,a.bF)(g,{to:{name:"Signup"},class:"btn",id:"signup"},{default:(0,a.k6)((()=>l[6]||(l[6]=[(0,a.eW)("Sign Up")]))),_:1})]))])])])}t(4114);var m=t(144),y=t(4370),f=t(6400),h=t(7617);const b={apiKey:"AIzaSyDZ6Hcyh0Mm-ZXuhnKtPgwjdnV_bKAIX-4",authDomain:"muso-ninjas-d9f8e.firebaseapp.com",projectId:"muso-ninjas-d9f8e",storageBucket:"muso-ninjas-d9f8e.appspot.com",messagingSenderId:"946007023601",appId:"1:946007023601:web:3c125346910bc666b96e50"},k=(0,f.Wp)(b),C=(0,y.xI)(k),L=(0,h.aU)(k),w=(0,h.O5)(),E=(0,m.KR)(null),P=async()=>{E.value=null;try{await(0,y.CI)(C)}catch(e){console.error(e.message),E.value=e.message}},A=()=>({error:E,logout:P});var U=A;const _=(0,y.xI)(),S=(0,m.KR)(_.currentUser);(0,y.hg)(_,(e=>{console.log("User state change. Current user is:",e),S.value=e}));const I=()=>({user:S});var X=I,K=t(1387),R={name:"Navbar",setup(){const{user:e}=X(),{logout:l}=U(),t=(0,K.rd)(),n=async()=>{await l(),console.log("Logged out"),t.push({name:"Login"})};return{handleLogout:n,user:e}}},j=t(1241);const F=(0,j.A)(R,[["render",g],["__scopeId","data-v-a2efc3b2"]]);var N=F,O={components:{Navbar:N}};const D=(0,j.A)(O,[["render",r]]);var Q=D;const J={class:"home"},x={key:0,class:"error"},M={key:1};function V(e,l,t,n,o,r){const s=(0,a.g2)("ListView");return(0,a.uX)(),(0,a.CE)("div",J,[n.error?((0,a.uX)(),(0,a.CE)("div",x," Could not fetch the data ")):(0,a.Q3)("",!0),n.documents?((0,a.uX)(),(0,a.CE)("div",M,[(0,a.bF)(s,{playlists:n.documents},null,8,["playlists"])])):(0,a.Q3)("",!0)])}const T={class:"playlist-wrapper"},W={class:"card-thumbnail"},H=["src"],$={class:"card-body"},q={class:"card-title"},Z={class:"card-creator"},z={class:"card-count"};function B(e,l,t,n,o,r){const u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",T,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.playlists,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"card"},[(0,a.bF)(u,{to:{name:"PlaylistDetails",params:{id:e.id}},class:"card-link"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",W,[(0,a.Lk)("img",{src:e.coverUrl,alt:"playlist cover"},null,8,H)]),(0,a.Lk)("div",$,[(0,a.Lk)("h3",q,(0,s.v_)(e.title),1),(0,a.Lk)("p",Z,"By "+(0,s.v_)(e.userName),1),(0,a.Lk)("p",z,(0,s.v_)(e.songs.length)+" Songs",1)])])),_:2},1032,["to"])])))),128))])}var G={props:["playlists"]};const Y=(0,j.A)(G,[["render",B],["__scopeId","data-v-3988ae4e"]]);var ee=Y;t(8111),t(7588);const le=(0,h.aU)(),te=(e,l=[],t={})=>{const n=(0,m.KR)(null),o=(0,m.KR)(null),r=[];Array.isArray(l)&&l.forEach(((e,l)=>{Array.isArray(e)&&3===e.length&&!e.includes(void 0)?r.push((0,h._M)(...e)):console.warn(`Invalid query at index ${l}: expected [field, operator, value], got`,e)})),r.push((0,h.My)("createdAt",t.order||"desc")),t.limit&&r.push((0,h.AB)(t.limit));try{const l=(0,h.P)((0,h.rJ)(le,e),...r),t=(0,h.aQ)(l,(e=>{const l=[];e.docs.forEach((e=>{const t=e.data();void 0!==t.createdAt&&l.push({...t,id:e.id})})),n.value=l,o.value=null}),(e=>{console.error("Firestore error:",e.message),n.value=null,o.value="Could not fetch the data"}));(0,a.nT)((e=>{e((()=>t()))}))}catch(s){console.error("Query construction failed:",s),o.value="Failed to build Firestore query"}return{documents:n,error:o}};var ne=te,ae={name:"Home",components:{ListView:ee},setup(){const{error:e,documents:l}=ne("playlists");return{error:e,documents:l}}};const oe=(0,j.A)(ae,[["render",V],["__scopeId","data-v-2ea86854"]]);var re=oe;const se={key:0,class:"error"},ue={key:1},ie={key:2,disabled:""};function ce(e,l,t,o,r,u){return(0,a.uX)(),(0,a.CE)("form",{onSubmit:l[2]||(l[2]=(0,n.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"]))},[l[3]||(l[3]=(0,a.Lk)("h3",null,"Login",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":l[0]||(l[0]=e=>o.email=e)},null,512),[[n.Jo,o.email]]),(0,a.bo)((0,a.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":l[1]||(l[1]=e=>o.password=e)},null,512),[[n.Jo,o.password]]),o.error?((0,a.uX)(),(0,a.CE)("div",se,(0,s.v_)(o.error),1)):(0,a.Q3)("",!0),o.isPending?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",ue,"Log in")),o.isPending?((0,a.uX)(),(0,a.CE)("button",ie," Loading ")):(0,a.Q3)("",!0)],32)}const de=(0,m.KR)(null),pe=(0,m.KR)(!1),ve=async(e,l)=>{de.value=null,pe.value=!0;try{const t=await(0,y.x9)(C,e,l);return de.value=null,pe.value=!1,t}catch(t){console.log(t.message),de.value="Incorrect login credentials",pe.value=!1}},ge=()=>({error:de,login:ve,isPending:pe});var me=ge,ye={setup(){const{error:e,login:l,isPending:t}=me(),n=(0,K.rd)(),a=(0,m.KR)(""),o=(0,m.KR)(""),r=async()=>{await l(a.value,o.value);e.value||(console.log("user logged in"),n.push("/"))};return{email:a,password:o,handleSubmit:r,error:e,isPending:t}}};const fe=(0,j.A)(ye,[["render",ce]]);var he=fe;const be={key:0,class:"error"},ke={key:1},Ce={key:2,disabled:""};function Le(e,l,t,o,r,u){return(0,a.uX)(),(0,a.CE)("form",{onSubmit:l[3]||(l[3]=(0,n.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"]))},[l[4]||(l[4]=(0,a.Lk)("h3",null,"Sign up",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Display name","onUpdate:modelValue":l[0]||(l[0]=e=>o.displayName=e)},null,512),[[n.Jo,o.displayName]]),(0,a.bo)((0,a.Lk)("input",{type:"email",placeholder:"Email","onUpdate:modelValue":l[1]||(l[1]=e=>o.email=e)},null,512),[[n.Jo,o.email]]),(0,a.bo)((0,a.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":l[2]||(l[2]=e=>o.password=e)},null,512),[[n.Jo,o.password]]),o.error?((0,a.uX)(),(0,a.CE)("div",be,(0,s.v_)(o.error),1)):(0,a.Q3)("",!0),o.isPending?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",ke,"Sign up")),o.isPending?((0,a.uX)(),(0,a.CE)("button",Ce," Loading ")):(0,a.Q3)("",!0)],32)}const we=(0,y.xI)(),Ee=(0,m.KR)(null),Pe=async(e,l,t)=>{Ee.value=null;try{const n=await(0,y.eJ)(we,e,l);if(!n)throw new Error("Could not complete signup");return await(0,y.r7)(n.user,{displayName:t}),Ee.value=null,n}catch(n){console.log(n.message),Ee.value=n.message}},Ae=()=>({error:Ee,signup:Pe});var Ue=Ae,_e={setup(){const{error:e,signup:l,isPending:t}=Ue(),n=(0,K.rd)(),a=(0,m.KR)(""),o=(0,m.KR)(""),r=(0,m.KR)(""),s=async()=>{await l(a.value,o.value,r.value);e.value||(console.log("user signed up"),n.push("/"))};return{email:a,password:o,displayName:r,handleSubmit:s,error:e,isPending:t}}};const Se=(0,j.A)(_e,[["render",Le]]);var Ie=Se;const Xe={class:"error"},Ke=["disabled"];function Re(e,l,t,o,r,u){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("form",{onSubmit:l[3]||(l[3]=(0,n.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"]))},[l[4]||(l[4]=(0,a.Lk)("h4",null,"Create a New Playlist",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",required:"",placeholder:"Playlist title","onUpdate:modelValue":l[0]||(l[0]=e=>o.title=e)},null,512),[[n.Jo,o.title]]),(0,a.bo)((0,a.Lk)("textarea",{required:"",placeholder:"Playlist description...","onUpdate:modelValue":l[1]||(l[1]=e=>o.description=e)},null,512),[[n.Jo,o.description]]),l[5]||(l[5]=(0,a.Lk)("label",null,"Upload Playlist Cover Image",-1)),(0,a.Lk)("input",{type:"file",onChange:l[2]||(l[2]=(...e)=>o.handleChange&&o.handleChange(...e))},null,32),(0,a.Lk)("div",Xe,(0,s.v_)(o.fileError),1),(0,a.Lk)("button",{disabled:o.isUploading},(0,s.v_)(o.isUploading?"Uploading...":"Create"),9,Ke)],32)])}var je=t(9119);const Fe="https://cpkgcirswvieiyrgahsb.supabase.co",Ne="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNwa2djaXJzd3ZpZWl5cmdhaHNiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc5ODE1MTUsImV4cCI6MjA2MzU1NzUxNX0.K1hHLgtFFm-_U2EMDkUnshMTSNGlEbfC2jojo5y9yI8",Oe=(0,je.UU)(Fe,Ne),{user:De}=X(),Qe=()=>{const e=(0,m.KR)(null),l=(0,m.KR)(null),t=(0,m.KR)(null),n=async n=>{if(e.value=null,l.value=null,!De.value||!De.value.uid)return void(e.value="User is not authenticated.");const a=`${Date.now()}-${n.name}`;t.value=`covers/${De.value.uid}/${a}`;try{const{error:e}=await Oe.storage.from("images").upload(t.value,n);if(e)throw e;const{data:a,error:o}=Oe.storage.from("images").getPublicUrl(t.value);if(o)throw o;if(!a||!a.publicUrl)throw new Error("Failed to retrieve image URL.");l.value=a.publicUrl,console.log("Image uploaded. URL:",l.value)}catch(o){console.error("Upload failed:",o.message),e.value=o.message}};return{error:e,url:l,filePath:t,uploadImage:n}};var Je=Qe,xe={setup(){const{filePath:e,url:l,uploadImage:t}=Je(),n=(0,K.rd)(),{user:a}=X();if(!a)throw new Error("User must be logged in to create a playlist.");const o=(0,m.KR)(""),r=(0,m.KR)(""),s=(0,m.KR)(null),u=(0,m.KR)(null),i=(0,m.KR)(!1),c=async()=>{if(o.value&&r.value)if(s.value){i.value=!0;try{if(await t(s.value),!l.value)throw new Error("Failed to retrieve image URL.");const u=await(0,h.gS)((0,h.rJ)(L,"playlists"),{title:o.value,description:r.value,coverUrl:l.value,createdAt:w,userId:a.value.uid,userName:a.value.displayName||"Anonymous",filePath:e.value,songs:[]});n.push({name:"PlaylistDetails",params:{id:u.id}}),v()}catch(E){console.error("Error creating playlist:",E.message),u.value="Failed to create playlist. Try again."}finally{i.value=!1}}else u.value="Please select a cover image.";else u.value="Please fill in the title and description."},d=["image/png","image/jpeg"],p=e=>{const l=e.target.files[0];l&&d.includes(l.type)?(s.value=l,u.value=null):(s.value=null,u.value="Please select a valid image (PNG or JPG).")},v=()=>{o.value="",r.value="",s.value=null,u.value=null};return{title:o,description:r,handleSubmit:c,fileError:u,handleChange:p,isUploading:i}}};const Me=(0,j.A)(xe,[["render",Re]]);var Ve=Me;const Te={key:0,class:"error"},We={key:1,class:"playlist-details"},He={class:"playlist-info"},$e={class:"cover"},qe=["src"],Ze={class:"username"},ze={class:"description"},Be={class:"gap"},Ge={class:"song-list"},Ye={key:0},el={class:"details"},ll={class:"gap"},tl=["onClick"],nl=["onClick"],al={key:0,class:"loading"},ol={key:1,class:"error"},rl=["src"];function sl(e,l,t,n,o,r){const u=(0,a.g2)("AddSong");return(0,a.uX)(),(0,a.CE)(a.FK,null,[n.error?((0,a.uX)(),(0,a.CE)("div",Te,(0,s.v_)(n.error),1)):(0,a.Q3)("",!0),n.playlist?((0,a.uX)(),(0,a.CE)("div",We,[(0,a.Lk)("div",He,[(0,a.Lk)("div",$e,[(0,a.Lk)("img",{src:n.playlist.coverUrl},null,8,qe)]),(0,a.Lk)("h2",null,(0,s.v_)(n.playlist.title),1),(0,a.Lk)("p",Ze,[l[2]||(l[2]=(0,a.eW)(" Created by - ")),(0,a.Lk)("strong",null,(0,s.v_)(n.playlist.userName),1)]),(0,a.Lk)("p",ze,(0,s.v_)(n.playlist.description),1),(0,a.Lk)("div",Be,[n.playlist.songs.length?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:l[0]||(l[0]=(...e)=>n.playAllSongs&&n.playAllSongs(...e)),class:"btn"}," ▶ Play All Songs ")):(0,a.Q3)("",!0),n.ownership?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:l[1]||(l[1]=(...e)=>n.handleDelete&&n.handleDelete(...e))}," Delete Playlist ")):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",Ge,[n.playlist.songs.length?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",Ye," No songs have been added to this playlist yet. ")),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.playlist.songs,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"single-song"},[(0,a.Lk)("div",el,[(0,a.Lk)("h3",null,(0,s.v_)(e.title),1),(0,a.Lk)("p",null,(0,s.v_)(e.artist),1)]),(0,a.Lk)("div",ll,[(0,a.Lk)("button",{class:"play-btn",onClick:l=>n.playSong(e.url)}," ▶ ",8,tl),n.ownership?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:l=>n.handleClick(e.id)}," delete ",8,nl)):(0,a.Q3)("",!0)])])))),128)),n.ownership?((0,a.uX)(),(0,a.Wv)(u,{key:1,playlist:n.playlist},null,8,["playlist"])):(0,a.Q3)("",!0)]),n.loading?((0,a.uX)(),(0,a.CE)("div",al," Loading audio... ")):(0,a.Q3)("",!0),n.apiError?((0,a.uX)(),(0,a.CE)("div",ol,(0,s.v_)(n.apiError),1)):(0,a.Q3)("",!0),n.currentAudioUrl?((0,a.uX)(),(0,a.CE)("audio",{key:2,src:n.currentAudioUrl,controls:"",autoplay:"",class:"audio-player"},null,8,rl)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)],64)}t(2489);const ul={class:"add-song"},il={class:"form-header"};function cl(e,l,t,o,r,s){return(0,a.uX)(),(0,a.CE)("div",ul,[o.showForm?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:l[0]||(l[0]=e=>o.showForm=!0)}," Add Songs ")),o.showForm?((0,a.uX)(),(0,a.CE)("form",{key:1,onSubmit:l[5]||(l[5]=(0,n.D$)(((...e)=>o.handleSubmit&&o.handleSubmit(...e)),["prevent"])),class:"song-form"},[(0,a.Lk)("div",il,[l[6]||(l[6]=(0,a.Lk)("h4",null,"Add a New Song",-1)),(0,a.Lk)("button",{type:"button",class:"close-btn",onClick:l[1]||(l[1]=e=>o.showForm=!1)}," ✖ ")]),(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Song title",required:"","onUpdate:modelValue":l[2]||(l[2]=e=>o.title=e)},null,512),[[n.Jo,o.title]]),(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Artist",required:"","onUpdate:modelValue":l[3]||(l[3]=e=>o.artist=e)},null,512),[[n.Jo,o.artist]]),(0,a.bo)((0,a.Lk)("input",{type:"url",placeholder:"YouTube URL",required:"","onUpdate:modelValue":l[4]||(l[4]=e=>o.url=e)},null,512),[[n.Jo,o.url]]),l[7]||(l[7]=(0,a.Lk)("button",null,"Add",-1))],32)):(0,a.Q3)("",!0)])}const dl=(e,l)=>{const t=(0,m.KR)(null),n=(0,m.KR)(!1),a=(0,h.H9)(L,e,l),o=async()=>{n.value=!0,t.value=null;try{const e=await(0,h.kd)(a);return n.value=!1,e}catch(e){console.error("Error deleting document:",e.message),t.value="Could not delete the document",n.value=!1}},r=async e=>{n.value=!0,t.value=null;try{await(0,h.mZ)(a,e),n.value=!1}catch(l){console.error("Error updating document:",l.message),t.value="Could not update the document",n.value=!1}};return{error:t,isPending:n,deleteDoc:o,updateDoc:r}};var pl=dl,vl={props:["playlist"],setup(e){const l=(0,m.KR)(""),t=(0,m.KR)(""),n=(0,m.KR)("");let a=(0,m.KR)(!1);const{updateDoc:o}=pl("playlists",e.playlist.id),r=async()=>{const r={id:Math.floor(1e6*Math.random()),title:l.value,artist:t.value,url:n.value};await o({songs:[...e.playlist.songs,r]}),l.value="",t.value="",n.value="",a.value=!1};return{title:l,artist:t,url:n,showForm:a,handleSubmit:r}}};const gl=(0,j.A)(vl,[["render",cl],["__scopeId","data-v-482d4038"]]);var ml=gl;const yl=(0,h.aU)(),fl=(e,l)=>{const t=(0,m.KR)(null),n=(0,m.KR)(null),o=(0,h.H9)(yl,e,l),r=(0,h.aQ)(o,(e=>{e.exists()?(t.value={...e.data(),id:e.id},n.value=null):(console.error("Document not found"),t.value=null,n.value="Document not found")}),(e=>{console.error("Firestore error:",e.message),t.value=null,n.value="Could not fetch the document"}));return(0,a.nT)((e=>{e((()=>r()))})),{document:t,error:n}};var hl=fl,bl={props:["id"],components:{AddSong:ml},setup(e){const{error:l,document:t}=hl("playlists",e.id),{user:n}=X(),{deleteDoc:o,updateDoc:r}=pl("playlists",e.id),s=(0,K.rd)(),u=(0,m.KR)(null),i=(0,m.KR)(""),c=(0,m.KR)(!1),d=(0,m.KR)(""),p=(0,a.EW)((()=>t.value&&n.value&&n.value.uid==t.value.userId)),v=e=>{const l=e.match(/(?:v=|\/)([0-9A-Za-z_-]{11})(?:&|$)/);return l?l[1]:null},g=async(e,l=null)=>{const t=v(e);if(t){c.value=!0,i.value="",d.value="",u.value=l;try{const e=await fetch(`https://youtube-mp36.p.rapidapi.com/dl?id=${t}`,{method:"GET",headers:{"X-RapidAPI-Key":"da0bbb2e99msh7e80c2ea877ec8ep1aee93jsna6512be9ae22","X-RapidAPI-Host":"youtube-mp36.p.rapidapi.com"}}),l=await e.json();if("ok"===l.status&&l.link){i.value=l.link,await(0,a.dY)();const e=document.querySelector(".audio-player");e&&(e.play().catch((e=>{d.value="Autoplay blocked by browser. Please press play.",console.error("Autoplay error:",e)})),e.onended=f)}else d.value="Failed to convert video."}catch(n){d.value="API Error: "+n.message}finally{c.value=!1}}else d.value="Invalid YouTube URL."},y=()=>{t.value&&t.value.songs.length>0&&g(t.value.songs[0].url,0)},f=()=>{if(t.value&&null!==u.value&&u.value+1<t.value.songs.length){const e=u.value+1;g(t.value.songs[e].url,e)}else u.value=null,i.value=""},h=async()=>{await o(),s.push({name:"Home"})},b=e=>{const l=t.value.songs.filter((l=>l.id!=e));r({songs:l}),console.log("Song removed from playlist")};return{error:l,playlist:t,ownership:p,handleDelete:h,handleClick:b,playSong:g,playAllSongs:y,playNextSong:f,currentAudioUrl:i,apiError:d,loading:c}}};const kl=(0,j.A)(bl,[["render",sl],["__scopeId","data-v-b687d560"]]);var Cl=kl;const Ll={class:"user-playlists"},wl={key:0};function El(e,l,t,n,o,r){const s=(0,a.g2)("ListView"),u=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",Ll,[l[1]||(l[1]=(0,a.Lk)("h2",null,"My playlists",-1)),n.playlists?((0,a.uX)(),(0,a.CE)("div",wl,[(0,a.bF)(s,{playlists:n.playlists},null,8,["playlists"])])):(0,a.Q3)("",!0),(0,a.bF)(u,{class:"btn",to:{name:"CreatePlaylist"}},{default:(0,a.k6)((()=>l[0]||(l[0]=[(0,a.eW)(" Create new playlist ")]))),_:1})])}var Pl={name:"UserPlaylists",components:{ListView:ee},setup(){const{user:e}=X(),{documents:l}=ne("playlists",[["userId","==",e.value.uid]]);return console.log("UserPlaylists",l),{playlists:l}}};const Al=(0,j.A)(Pl,[["render",El],["__scopeId","data-v-9376f972"]]);var Ul=Al;const _l=(e,l,t)=>{const n=C.onAuthStateChanged((e=>{e?(console.log("Auth state resolved: Logged in"),t()):(console.log("Auth state resolved: Not logged in"),t({name:"Login"})),n()}))},Sl=[{path:"/",name:"Home",component:re,beforeEnter:_l},{path:"/login",name:"Login",component:he},{path:"/signup",name:"Signup",component:Ie},{path:"/playlist/create",name:"CreatePlaylist",component:Ve,beforeEnter:_l},{path:"/playlist/:id",name:"PlaylistDetails",component:Cl,beforeEnter:_l,props:!0},{path:"/playlists/user",name:"UserPlaylists",component:Ul,beforeEnter:_l}],Il=(0,K.aE)({history:(0,K.LA)("/"),routes:Sl});var Xl=Il;let Kl;C.onAuthStateChanged((e=>{Kl||(Kl=(0,n.Ef)(Q),Kl.use(Xl),Kl.mount("#app"))}))}},l={};function t(n){var a=l[n];if(void 0!==a)return a.exports;var o=l[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(l,n,a,o){if(!n){var r=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],o=e[c][2];for(var s=!0,u=0;u<n.length;u++)(!1&o||r>=o)&&Object.keys(t.O).every((function(e){return t.O[e](n[u])}))?n.splice(u--,1):(s=!1,o<r&&(r=o));if(s){e.splice(c--,1);var i=a();void 0!==i&&(l=i)}}return l}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,a,o]}}(),function(){t.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(l,{a:l}),l}}(),function(){var e,l=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};t.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var o=Object.create(null);t.r(o);var r={};e=e||[null,l({}),l([]),l(l)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=l(s))Object.getOwnPropertyNames(s).forEach((function(e){r[e]=function(){return n[e]}}));return r["default"]=function(){return n},t.d(o,r),o}}(),function(){t.d=function(e,l){for(var n in l)t.o(l,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:l[n]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(l,n){return t.f[n](e,l),l}),[]))}}(),function(){t.u=function(e){return"js/"+e+".7e4ee946.js"}}(),function(){t.miniCssF=function(e){}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){var e={},l="muso-ninja:";t.l=function(n,a,o,r){if(e[n])e[n].push(a);else{var s,u;if(void 0!==o)for(var i=document.getElementsByTagName("script"),c=0;c<i.length;c++){var d=i[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==l+o){s=d;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",l+o),s.src=n),e[n]=[a];var p=function(l,t){s.onerror=s.onload=null,clearTimeout(v);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(t)})),l)return l(t)},v=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={524:0};t.f.j=function(l,n){var a=t.o(e,l)?e[l]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise((function(t,n){a=e[l]=[t,n]}));n.push(a[2]=o);var r=t.p+t.u(l),s=new Error,u=function(n){if(t.o(e,l)&&(a=e[l],0!==a&&(e[l]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+l+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,a[1](s)}};t.l(r,u,"chunk-"+l,l)}},t.O.j=function(l){return 0===e[l]};var l=function(l,n){var a,o,r=n[0],s=n[1],u=n[2],i=0;if(r.some((function(l){return 0!==e[l]}))){for(a in s)t.o(s,a)&&(t.m[a]=s[a]);if(u)var c=u(t)}for(l&&l(n);i<r.length;i++)o=r[i],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},n=self["webpackChunkmuso_ninja"]=self["webpackChunkmuso_ninja"]||[];n.forEach(l.bind(null,0)),n.push=l.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(2774)}));n=t.O(n)})();
//# sourceMappingURL=app.b3d47b8b.js.map